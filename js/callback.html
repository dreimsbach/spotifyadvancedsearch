<!DOCTYPE html>
<html>
<head>
<script>
function init() {
  // Extract code from URL parameters
  const urlParams = new URLSearchParams(window.location.search);
  const code = urlParams.get('code');
  
  if (code) {
    console.log('Received authorization code:', code);
    // Send the authorization code back to the parent window
    window.opener.postMessage(JSON.stringify({
      type: 'authorization_code',
      code: code
    }), '*');
    window.close();
  } else {
    console.error('No authorization code received in URL:', window.location.href);
  }
}
</script>
</head>
<body onload="init()">
<p>Processing authorization...</p>
</body>
</html>